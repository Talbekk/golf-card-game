(function(e){function t(t){for(var a,o,c=t[0],i=t[1],l=t[2],u=0,h=[];u<c.length;u++)o=c[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&h.push(n[o][0]),n[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);d&&d(t);while(h.length)h.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,c=1;c<r.length;c++){var i=r[c];0!==n[i]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={app:0},s=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=i;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0291":function(e,t,r){e.exports=r.p+"img/CardBack.25b4a4d6.png"},"034f":function(e,t,r){"use strict";var a=r("85ec"),n=r.n(a);n.a},"035a":function(e,t,r){},"180f":function(e,t,r){},2954:function(e,t,r){},"37d5":function(e,t,r){"use strict";var a=r("c9c9"),n=r.n(a);n.a},"3c7d":function(e,t,r){"use strict";var a=r("c21c"),n=r.n(a);n.a},4260:function(e,t,r){"use strict";var a=r("a4fc"),n=r.n(a);n.a},"535f":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("bf19");var a=r("8aa5"),n=Object(a["initializeApp"])({apiKey:"AIzaSyB72305T76qBMmzL8WaC9WCUJwlhHVXZF8",authDomain:"golf-card-game.firebaseapp.com",databaseURL:"https://golf-card-game.firebaseio.com",projectId:"golf-card-game",storageBucket:"golf-card-game.appspot.com",messagingSenderId:"53407633152"}),s=n.database(),o=n,c=(s.ref("scores"),s.ref("leaderboard")),i=o.auth(),l=(s.ref("scores/-LzbcOnDQ_isE4pJ0ylY").toJSON(),r("2b0e")),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("logo-header",{attrs:{id:"nav-bar",gameStatus:e.gameStatus,scoreCard:e.scoreCard}}),r("router-view",{attrs:{userData:e.userData,gameDeck:e.gameDeck,userName:e.userName,gameStatus:e.gameStatus}})],1)},u=[],h=(r("d3b7"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.selectScoresPage?e._e():r("div",{attrs:{id:"intro-screen"}},[e.newGame?e._e():r("div",{attrs:{id:"profile-container"}},[e._m(0),r("p",[r("b",[e._v("Golfer Name:")]),e._v(" "+e._s(this.userData.username))]),r("p",[r("b",[e._v("Games Played:")]),e._v(" "+e._s(this.gamesPlayed))]),r("p",[r("b",[e._v("Total Score:")]),e._v(" "+e._s(this.totalScore))]),e.loggedIn?r("b-button",{attrs:{id:"submit"},on:{click:e.signOut}},[e._v("Sign Out")]):e._e()],1),r("div",{attrs:{id:"new-game-container"}},[e._m(1),r("b-button",{attrs:{to:"/game",id:"submit",type:"submit"},on:{click:e.clickedNewGame}},[e._v("Tee Off")])],1),this.userData.games?r("div",{attrs:{id:"last-game-container"}},[e._m(2),r("p",[r("b",[e._v("Played:")]),e._v(" "+e._s(this.lastMatch.date.date)+" @ "+e._s(this.lastMatch.date.time))]),r("p",[r("b",[e._v("Score:")]),e._v(" "+e._s(this.lastMatch.score))]),e._m(3),r("score-card",{attrs:{scoreCard:e.chosenScoreCard}})],1):e._e()])}),f=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h5",[r("b",[e._v("Profile:")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("b",[e._v("One Player Mode:")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("b",[e._v("Last Match:")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("b",[e._v("Scorecard:")])])}],m=(r("4160"),r("07ac"),r("ac1f"),r("5319"),r("159b"),r("96cf"),r("1da1")),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"leaderboard-container"}},[r("div",{attrs:{id:"views-container"}},[r("b-button",{attrs:{pill:"",type:"button",name:"button"},on:{click:e.setFilter}},[e._v(e._s(this.filter?"Show All Scores":"Show Best Scores"))]),r("b-button",{attrs:{pill:"",type:"button",name:"button"},on:{click:e.seeTable}},[e._v(e._s(this.tableFilter?"Show Legacy":"Show Current"))])],1),e.sortedLeaderBoard&&e.tableFilter?r("leaderboard",{attrs:{scores:this.sortedLeaderBoard,title:e.newTitle,gameStatus:e.gameStatus}}):e._e(),e.sortedScores&&!e.tableFilter?r("leaderboard",{attrs:{scores:this.sortedScores,title:e.title,gameStatus:e.gameStatus}}):e._e()],1)},v=[],g=(r("4de4"),r("c740"),r("d81d"),r("b64b"),r("2909")),b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("table",[e._m(0),e._l(e.scores,(function(t,a){return r("tr",[r("td",[e._v(e._s(a+1))]),r("td",[e._v(e._s(t.golfer))]),r("td",[e._v(e._s(t.score))])])}))],2)])},_=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("th",[e._v("#")]),r("th",[e._v("Name")]),r("th",[e._v("Score")])])}],C={name:"leaderBoard",props:["scores","title","gameStatus"]},w=C,S=(r("cb3b"),r("2877")),k=Object(S["a"])(w,b,_,!1,null,"04ad57ae",null),y=k.exports,$={name:"playerScores",props:["gameStatus"],data:function(){return{scores:{},sortedScores:[],leaderBoard:{},sortedLeaderBoard:[],title:"Legacy",newTitle:"Current",filter:!0,tableFilter:!0}},components:{leaderboard:y},created:function(){var e=this;s.ref("scores").once("value",(function(t){return e.scores=t.toJSON()})),s.ref("leaderboard").once("value",(function(t){return e.leaderBoard=t.toJSON()}))},watch:{scores:function(){var e=this;this.sortedScores=Object.keys(this.scores).map((function(t){return e.scores[t]})),this.sortedScores.sort((function(e,t){return e.score-t.score}))},leaderBoard:function(){this.fillLeaderboard(),this.filterView()},filter:function(){!0===this.filter?this.filterView():this.fillLeaderboard()}},methods:{filterView:function(){var e=Object(g["a"])(this.sortedLeaderBoard),t=e.filter((function(e,t,r){return r.findIndex((function(t){return t.golfer===e.golfer}))===t}));this.sortedLeaderBoard=t},fillLeaderboard:function(){var e=this;this.sortedLeaderBoard=Object.keys(this.leaderBoard).map((function(t){return e.leaderBoard[t]})),this.sortedLeaderBoard.sort((function(e,t){return e.score-t.score}))},setFilter:function(){this.filter=!this.filter},seeTable:function(){this.tableFilter=!this.tableFilter}}},x=$,D=(r("6686"),Object(S["a"])(x,p,v,!1,null,"3da9ad0a",null)),O=D.exports,P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"score-container"}},[r("scores-page",{attrs:{gameStatus:e.gameStatus}})],1)},T=[],j={name:"leaderboard-container",props:["gameStatus"],components:{"scores-page":O},methods:{seeScoresPage:function(){Dt.$emit("view-leaderboard")}}},E=j,N=(r("c1b5"),Object(S["a"])(E,P,T,!1,null,"7439be26",null)),G=N.exports,I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("table",[r("tr",[r("th",[e._v("Hole")]),e._l(this.holes,(function(t,a){return r("th",[e._v(e._s(t))])})),r("th",[e._v("Total")])],2),r("tr",[r("th",[e._v("Score")]),e._l(this.scores,(function(t,a){return r("th",[e._v(e._s(t))])})),r("th",[e._v(e._s(e.totalScore))])],2)])},L=[],B=(r("a4d3"),r("e01a"),r("d28b"),r("a434"),r("3ca3"),r("ddb0"),{name:"score-card",props:["scoreCard"],data:function(){return{holes:[],scores:[],total:0}},mounted:function(){for(var e=1;e<=9;e++)this.holes.push(e);for(var t=1;t<=9;t++)this.scores.push("");this.getScores()},watch:{scoreCard:function(){if(0===this.scoreCard.length){this.scores=[];for(var e=1;e<=9;e++)this.scores.push("")}else{var t=0,r=!0,a=!1,n=void 0;try{for(var s,o=this.scoreCard[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var c=s.value;this.scores.splice(t,1,c),t+=1}}catch(i){a=!0,n=i}finally{try{r||null==o.return||o.return()}finally{if(a)throw n}}}},totalScore:function(){eventBus.$emit("total",this.totalScore)}},scores:function(){9===this.scores.length&&eventBus.$emit("total-score",this.score),this.scores.length>=1&&eventBus.$emit("total",this.total)},computed:{totalScore:function(){var e=0,t=!0,r=!1,a=void 0;try{for(var n,s=this.scoreCard[Symbol.iterator]();!(t=(n=s.next()).done);t=!0){var o=n.value;e+=o}}catch(c){r=!0,a=c}finally{try{t||null==s.return||s.return()}finally{if(r)throw a}}return e}},methods:{getScores:function(){if(0===this.scoreCard.length){this.scores=[];for(var e=1;e<=9;e++)this.scores.push("")}else{var t=0,r=!0,a=!1,n=void 0;try{for(var s,o=this.scoreCard[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var c=s.value;this.scores.splice(t,1,c),t+=1}}catch(i){a=!0,n=i}finally{try{r||null==o.return||o.return()}finally{if(a)throw n}}}}}}),H=B,M=(r("7702"),Object(S["a"])(H,I,L,!1,null,"0599d533",null)),R=M.exports,U={name:"intro-screen",props:["viewLeaderBoard"],data:function(){return{newGame:!1,userName:null,selectScoresPage:!1,loggedIn:!1,userData:{},lastMatch:{},chosenScoreCard:[],gamesPlayed:0,totalScore:0}},components:{"scores-page":O,"leaderboard-container":G,"score-card":R},created:function(){var e=this;o.auth().onAuthStateChanged((function(t){console.log("created"),t?(e.loggedIn=!0,e.getUserData()):e.loggedIn=!1}))},watch:{userName:function(){console.log("handleclick",this.userName),Dt.$emit("username-selected",this.userName),this.clickedNewGame()}},userData:function(){var e=this;Dt.$emit("user-data",this.userData).then((function(){console.log("hi"),e.getLastGame()})),console.log("outside")},mounted:function(){var e=this;Dt.$on("view-leaderboard",(function(){e.selectScoresPage=!e.selectScoresPage}))},methods:{clickedNewGame:function(){console.log("start-new-game"),Dt.$emit("start-new-game")},handleClick:function(){Dt.$emit("username-selected",this.userName),this.clickedNewGame()},signOut:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.auth().signOut();case 3:t=e.sent,this.$router.replace({name:"login"}),console.log("success log out",t),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0),console.log("fail");case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),getUserData:function(){var e=this;if(i.currentUser){console.log("getuserData");var t=i.currentUser.uid;s.ref().child("users").child(t).once("value",(function(t){e.userData=t.val()})).then((function(){Dt.$emit("user-data",e.userData),e.userData.games&&(e.getLastGame(),e.getGamesPlayed(),e.getTotalScore())}))}},getLastGame:function(){var e=Object.values(this.userData.games);this.lastMatch=e.pop();var t=this.getDate();this.chosenScoreCard=this.lastMatch.card,console.log("today",t),console.log("matches",e),console.log("lastMatch",this.lastMatch)},getDate:function(){var e=new Date,t=e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear(),r=e.getHours()+":"+e.getMinutes(),a={date:t,time:r};return a},getGamesPlayed:function(){console.log("count started");var e=Object.values(this.userData.games);this.gamesPlayed=e.length},getTotalScore:function(){var e=0,t=Object.values(this.userData.games);t.forEach((function(t){e+=t.score})),this.totalScore=e}}},F=U,A=(r("4260"),Object(S["a"])(F,h,f,!1,null,"e1c3c5c4",null)),q=A.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"game-header"}},[a("b-navbar",{attrs:{toggleable:"lg",variant:"faded",type:"light"}},[a("b-navbar-brand",{attrs:{href:"#"}},[a("img",{attrs:{src:r("f4e8"),height:"75",alt:""}})]),a("b-navbar-nav",[a("b-nav-item",{attrs:{to:"/"},on:{click:e.reset}},[e._v("Home")]),e.gameStatus?e._e():a("b-nav-item",{attrs:{to:"/leaderboard"}},[e._v("Leaderboard")]),a("div",[e.gameStatus?a("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}]},[e._v("Leaderboard")]):e._e(),a("b-modal",{attrs:{id:"modal-1",scrollable:"",title:"Leaderboard","ok-only":""}},[a("scores-page")],1)],1),e.gameStatus?e._e():a("b-nav-item",{attrs:{to:"/rules"}},[e._v("Rules")]),a("div",[e.gameStatus?a("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}]},[e._v("Rules")]):e._e(),a("b-modal",{attrs:{id:"modal-2",scrollable:"",title:"Rules","ok-only":""}},[a("game-rules")],1)],1)],1),a("b-navbar-nav",{staticClass:"ml-auto"},[e.gameStatus?a("b-nav-item",{attrs:{right:""}},[e._v("Hole: "+e._s(this.currentHole))]):e._e(),e.gameStatus?a("b-nav-item",{attrs:{right:""}},[e._v("Current Score: "+e._s(this.score))]):e._e(),e.gameStatus?a("b-nav-item",{attrs:{href:"#",right:""},on:{click:e.newGame}},[e._v("Restart Game")]):e._e(),a("div",[e.gameStatus?a("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-3",modifiers:{"modal-3":!0}}]},[e._v("Score Card")]):e._e(),a("b-modal",{attrs:{id:"modal-3",scrollable:"",title:"Score Card","ok-only":""}},[a("score-card",{attrs:{scoreCard:e.scoreCard}})],1)],1)],1)],1)],1)},K=[],W=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},V=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"game-rules"}},[r("h4",[e._v("The Deal:")]),r("p",[e._v(" Each player is dealt 4 cards face down from the deck. The remainder of the cards are placed face down, and the top card is turned up to start the discard pile beside it. Players arrange their 4 cards in a row face down. At the start of a round, the player can look at two cards but only for a short time. ")]),r("h4",[e._v("GamePlay:")]),r("p",[e._v(' The object is for players to have the lowest value of the cards in front of them by either swapping them for lesser value cards or by pairing them up with cards of equal rank. A game is nine "holes" (deals), and the player with the lowest total score is the winner. ')]),e._v(" Beginning with the player to the dealer's left, players take turns drawing single cards from either the stock or discard piles. The drawn card may either be swapped for one of that player's 4 cards, or discarded. If the card is swapped for one of the face down cards, the card swapped in remains face up. If the player choose not to take the card, they must turn over one of their own. The round ends when all of a player's cards are face-up. "),r("p"),r("h4",[e._v("Gameplay:")]),r("ul",[r("li",[e._v("Once cards have been dealt and at the beginning of the round, click a card to reveal it for a short time.")]),r("li",[e._v("To lock in a card: Double click the chosen card.")]),r("li",[e._v("To swap a card: Click the face up card you want and then click the card in your hand that you want to switch.")])]),r("h4",[e._v("Special Cards & Combinations:")]),r("ul",[r("li",[r("b",[e._v("King:")]),e._v(" 0")]),r("li",[r("b",[e._v("5:")]),e._v(" -5")]),r("li",[r("b",[e._v("Pair:")]),e._v(" 0")]),r("li",[r("b",[e._v("4 of a kind:")]),e._v(" -30")])]),r("h4",[e._v("Useful Links:")]),r("ul",[r("li",[r("a",{attrs:{href:"https://www.pagat.com/draw/golf.html",target:"_blank"}},[e._v("Four Card Golf")])]),r("li",[r("a",{attrs:{href:"https://www.youtube.com/watch?v=I6xcdO7qKsU",target:"_blank"}},[e._v("Video Walkthrough")])])]),r("p",[e._v("Sidenote: There are many variations of golf. This is but my own interpretation of the great game.")])])}],z={name:"game-rules"},Y=z,Q=(r("3c7d"),Object(S["a"])(Y,W,V,!1,null,"f9fb23fe",null)),X=Q.exports,Z={name:"logo-header",data:function(){return{loggedIn:!1,score:0,currentHole:1}},props:["gameStatus","scoreCard"],components:{"scores-page":O,"game-rules":X,"score-card":R},mounted:function(){var e=this;Dt.$on("total",(function(t){e.score=t})),Dt.$on("start-next-hole",(function(){e.currentHole+=1})),Dt.$on("start-new-game",(function(){console.log("pick-up"),e.currentHole=1,e.score=0}))},watch:{scoreCard:function(){var e=0;this.scoreCard.length>0&&(this.scoreCard.forEach((function(t){e+=t})),this.score=e)}},methods:{newGame:function(){Dt.$emit("start-new-game"),this.score=0,this.currentHole=1},reset:function(){Dt.$emit("reset-app"),this.score=0,this.currentHole=1}}},ee=Z,te=(r("ae1c"),Object(S["a"])(ee,J,K,!1,null,"69dbc61a",null)),re=te.exports,ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"game_container"}},[r("div",{attrs:{id:"game-board"}},[r("div",{attrs:{id:"next-button"}},[r("game-header",{attrs:{gameStatus:e.gameStatus,scoreCard:e.scoreCard,lockedCards:e.lockedCards,counter:e.counter,currentHole:e.currentHole}})],1),e.viewLeaderBoard?e._e():r("div",{attrs:{id:"board-one"}},[e.discardPile?r("discard-pile",{attrs:{discardPile:e.discardPile}}):e._e(),r("card-deck",{attrs:{topCardStatus:e.topCardStatus}}),e.topCard?r("top-card",{attrs:{topCard:e.topCard}}):e._e()],1)]),e.playerCards&&!e.viewLeaderBoard?r("div",{attrs:{id:"hand-container"}},[r("player-cards",{attrs:{counter:e.counter,lockedCards:e.lockedCards,playerCards:e.playerCards,topCardSelected:e.topCardSelected}})],1):e._e()])},ne=[],se=(r("c975"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return this.discardPile.length>0?r("div",{attrs:{id:"discard-pile"}},[r("p",[e._v("Discard Pile:")]),r("img",{staticClass:"card-icon",attrs:{src:this.discardPile[this.discardPile.length-1][0].image}})]):e._e()}),oe=[],ce={name:"discard-pile",props:["discardPile"]},ie=ce,le=(r("e570"),Object(S["a"])(ie,se,oe,!1,null,"43b23d0d",null)),de=le.exports,ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"top-card"}},[r("p",[e._v("Top Card:")]),r("img",{staticClass:"card-icon",attrs:{src:this.topCard.image},on:{click:e.handleClick}})])},he=[],fe={name:"topCard",props:["topCard"],methods:{handleClick:function(){Dt.$emit("top-card-selected")}}},me=fe,pe=(r("37d5"),Object(S["a"])(me,ue,he,!1,null,"4a53a3d0",null)),ve=pe.exports,ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"cards-container"}},[r("ul",e._l(e.playerCards,(function(t,a){return r("player-card",{key:a,attrs:{playerCard:t,index:a,shownCards:e.shownCards,lockedCards:e.lockedCards,counter:e.counter,topCardSelected:e.topCardSelected}})})),1)])},be=[],_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"my-container"}},[a("li",[e.hidden?a("img",{staticClass:"card-icon",attrs:{src:r("0291")},on:{click:e.handleClick,dblclick:e.lockCard}}):e._e(),e.hidden?e._e():a("img",{staticClass:"card-icon",attrs:{src:this.playerCard.image}})])])},Ce=[],we={name:"player-card",props:["playerCard","shownCards","lockedCards","counter","index","topCardSelected"],data:function(){return{hidden:!0,lockedIn:!1,popoverShow:!1}},watch:{lockedCards:function(){0===this.lockedCards.length&&this.resetCard()}},methods:{handleClick:function(){this.shownCards<2&&0===this.counter&&this.showCard(),2===this.shownCards&&!0===this.topCardSelected&&this.switchCard()},showCard:function(){var e=this;this.hidden=!1,setTimeout((function(){e.hideCard()}),2e3),Dt.$emit("shown-a-card",1)},revealCard:function(){!1===this.lockedIn?this.hidden=!0:this.hidden=!1},hideCard:function(){!1===this.lockedIn&&(this.hidden=!0)},lockCard:function(){Dt.$emit("card-value",this.playerCard),this.lockedIn=!0,this.revealCard()},switchCard:function(){Dt.$emit("player-card",this.playerCard),this.lockedIn=!0,this.revealCard()},resetCard:function(){this.hidden=!0,this.lockedIn=!1}}},Se=we,ke=(r("f96a"),Object(S["a"])(Se,_e,Ce,!1,null,"ed526166",null)),ye=ke.exports,$e={name:"players-cards",props:["playerCards","lockedCards","counter","topCardSelected"],data:function(){return{shownCards:0}},mounted:function(){var e=this;Dt.$on("shown-a-card",(function(t){e.shownCards+=t}))},components:{"player-card":ye},watch:{lockedCards:function(){0===this.lockedCards.length&&(this.shownCards=0)}}},xe=$e,De=(r("d5c5"),Object(S["a"])(xe,ge,be,!1,null,"62b9c822",null)),Oe=De.exports,Pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"game-header"}},[this.gameStatus||this.selectScoresPage?e._e():r("b-button",{attrs:{pill:"",name:"button"},on:{click:e.newGame}},[e._v("Play Again?")]),e.checkIfHoleFinished?r("b-button",{attrs:{pill:""},on:{click:e.startNextHole}},[e._v("Next Round")]):e._e()],1)},Te=[],je={name:"game-header",props:["gameStatus","scoreCard","lockedCards","counter","currentHole"],data:function(){return{selectScoresPage:!1}},components:{"score-card":R,"intro-screen":q,"leaderboard-container":G},mounted:function(){var e=this;Dt.$on("view-leaderboard",(function(){e.selectScoresPage=!e.selectScoresPage}))},computed:{checkIfHoleFinished:function(){return this.currentHole>=1&&(4===this.counter||4===this.lockedCards.length)&&!0===this.gameStatus}},methods:{startNextHole:function(){Dt.$emit("start-next-hole")},newGame:function(){Dt.$emit("start-new-game")}}},Ee=je,Ne=(r("9131"),Object(S["a"])(Ee,Pe,Te,!1,null,"4e0dcd26",null)),Ge=Ne.exports,Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"deck-container"},[a("p",[e._v("Deck:")]),a("img",{class:[e.topCardStatus?e.selectedClass:e.unSelectedClass],attrs:{src:r("0291")},on:{click:e.drawNextCard}})])},Le=[],Be={name:"deck-list",props:["topCardStatus"],data:function(){return{selectedClass:"card-icon-greyed",unSelectedClass:"card-icon-original"}},methods:{drawNextCard:function(){Dt.$emit("draw-next-card")}}},He=Be,Me=(r("f975"),Object(S["a"])(He,Ie,Le,!1,null,"1f137b79",null)),Re=Me.exports,Ue=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Fe=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h4",[e._v("Hint:")]),r("div",{attrs:{id:"info-container"}},[r("div",{attrs:{id:"info-box"}},[r("p",[r("b",[e._v("King:")]),e._v(" 0")]),r("p",[r("b",[e._v("5:")]),e._v(" -5")]),r("p",[r("b",[e._v("Pair:")]),e._v(" 0")]),r("p",[r("b",[e._v("4 of a kind:")]),e._v(" -30")])])])])}],Ae={name:"info-box"},qe=Ae,Je=(r("c4fd"),Object(S["a"])(qe,Ue,Fe,!1,null,"73f91652",null)),Ke=Je.exports,We={name:"game",props:["gameDeck","userName","gameStatus","userData"],data:function(){return{roundDeck:[],playerCards:null,topCard:null,currentCard:null,runningTotal:0,counter:0,currentHole:1,lockedCards:[],scoreCard:[],discardPile:[],drawnCard:!1,topCardStatus:!1,viewLeaderBoard:!1,topCardSelected:!1}},components:{"player-cards":Oe,"top-card":ve,"score-card":R,"discard-pile":de,"card-deck":Re,"info-box":Ke,"game-header":Ge},mounted:function(){var e=this;Dt.$on("player-card",(function(t){var r=e.playerCards.indexOf(t),a=e.topCard,n=e.playerCards.splice(r,1,a),s=e.lockedCards.filter((function(e){return a.value===e}));3===s.length?e.runningTotal=-30:1===s.length&"5"===a.value?e.runningTotal+=e.calculateScore(a.value):1===s.length?e.runningTotal-=e.calculateScore(a.value):e.runningTotal+=e.calculateScore(a.value),e.nextRound(a.value),e.discardPile.push(n),e.counter+=1,e.topCardSelected=!1})),Dt.$on("card-value",(function(t){e.currentCard=t,e.counter+=1})),Dt.$on("draw-next-card",(function(){e.drawNextCard(),e.topCardStatus=!0})),Dt.$on("get-cards",(function(){e.getCards()})),Dt.$on("setup-game",(function(){e.setupGame()})),Dt.$on("start-next-hole",(function(){e.nextHole()})),Dt.$on("start-new-game",(function(){e.setupNewGame()})),Dt.$on("view-leaderboard",(function(){e.viewLeaderBoard=!e.viewLeaderBoard})),Dt.$on("top-card-selected",(function(){e.topCardSelected=!0}))},watch:{currentCard:function(){var e=this.currentCard.value,t=this.calculateScore(e),r=this.lockedCards.filter((function(t){return e===t}));3===r.length?this.runningTotal=-30:1===r.length&"5"===e?this.runningTotal+=t:1===r.length?this.runningTotal-=t:this.runningTotal+=t,this.nextRound(e)},playerCards:function(){null===this.topCard&&this.drawTopCard()},counter:function(){4===this.counter&&(this.scoreCard.push(this.runningTotal),Dt.$emit("score-card",this.scoreCard))},scoreCard:function(){if(9===this.scoreCard.length){var e=this.getTotalScore();c.push({golfer:this.userData.username,score:e,card:this.scoreCard,edit:!1}),Dt.$emit("game-status",!1);try{s.ref("users/"+this.userData.userID).child("games").push({golfer:this.userData.username,score:e,card:this.scoreCard,date:this.getDate(),edit:!1}),console.log("upload success")}catch(t){console.log("fail",t)}}}},computed:{holesCompleted:function(){return this.scoreCard.length},checkIfHoleFinished:function(){return this.currentHole>=1&&4===this.counter&&4===this.lockedCards.length&&!0===this.gameStatus}},methods:{getCards:function(){this.getRoundDeck();for(var e=[],t=0;t<4;t++){var r=this.roundDeck.shift();e.push(r)}this.playerCards=e,this.playerCards.forEach((function(e){e.lockedIn=!1}))},getRoundDeck:function(){var e=this;return this.gameDeck.cards.forEach((function(t){e.roundDeck.push(t)})),this.shuffleDeck(this.roundDeck)},shuffleDeck:function(e){for(var t,r,a=e.length-1;a>0;a--)t=Math.floor(Math.random()*(a+1)),r=e[a],e[a]=e[t],e[t]=r},drawTopCard:function(){this.playerCards&&(this.topCard=this.roundDeck.shift())},calculateScore:function(e){switch(e){case"ACE":return 1;case"KING":return 0;case"QUEEN":return 10;case"JACK":return 10;case"5":return-5;default:return parseInt(e)}},setupGame:function(){this.playerCards=null,this.topCard=null,this.runningTotal=0,this.lockedCards=[],this.discardPile=[]},setupNewGame:function(){this.setupGame(),this.scoreCard=[],Dt.$emit("score-card",this.scoreCard),this.counter=0,this.currentHole=1,this.roundDeck=[],this.getCards(),Dt.$emit("game-status",!0),this.topCardStatus=!1},nextHole:function(){this.counter=0,this.currentHole+=1,this.roundDeck=[],this.setupGame(),this.getCards(),this.discardPile=[],this.topCardStatus=!1},nextRound:function(e){this.drawTopCard(),this.drawnCard=!1,this.lockedCards.push(e),this.topCardStatus=!1},drawNextCard:function(){!1===this.drawnCard&&(this.drawTopCard(),this.drawnCard=!0)},getTotalScore:function(){var e=0;return this.scoreCard.forEach((function(t){e+=t})),e},getDate:function(){var e=new Date,t=e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear(),r=e.getHours()+":"+e.getMinutes(),a={date:t,time:r};return a}}},Ve=We,ze=(r("c87a"),Object(S["a"])(Ve,ae,ne,!1,null,"2a22f6ba",null)),Ye=ze.exports,Qe={name:"app",data:function(){return{deck:[],gameDeck:[],gameStatus:!1,tutorialStatus:!1,userName:null,scoreCard:[],userData:{}}},components:{"intro-screen":q,"logo-header":re,Game:Ye},mounted:function(){var e=this;this.getDeck(),fetch("https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1").then((function(e){return e.json()})).then((function(t){return e.deck=t})).then(setTimeout((function(){e.getDeck()}),1e3)),this.getUserData(),Dt.$on("clicked-new-game",(function(){setTimeout((function(){Dt.$emit("start-new-game")}),1e3),e.tutorialStatus=!0})),Dt.$on("username-selected",(function(t){e.userName=t})),Dt.$on("game-status",(function(t){e.gameStatus=t})),Dt.$on("reset-app",(function(){e.gameStatus=!1,e.tutorialStatus=!1,e.userName=null,e.scoreCard=[]})),Dt.$on("score-card",(function(t){e.scoreCard=t}))},methods:{getDeck:function(){var e=this;Dt.$emit("setup-game");var t=this.deck.deck_id;fetch("https://deckofcardsapi.com/api/deck/".concat(t,"/draw/?count=52")).then((function(e){return e.json()})).then((function(t){return e.gameDeck=t}))},getUserData:function(){var e=this;if(i.currentUser){console.log("getuserData",i.currentUser);var t=i.currentUser.uid;s.ref().child("users").child(t).once("value",(function(t){e.userData=t.val(),console.log("this user data",e.userData)}))}}}},Xe=Qe,Ze=(r("034f"),Object(S["a"])(Xe,d,u,!1,null,null,null)),et=Ze.exports,tt=r("0ff2"),rt=r("5f5b"),at=(r("f9e3"),r("2dd8"),r("45fc"),r("8c4f")),nt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"main-container"}},[r("p",[e._v("Welcome to Golf: The Card Game")]),r("div",{attrs:{id:"login-container"}},[r("register"),r("sign-in")],1)])},st=[],ot=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"register-container"}},[r("h4",[e._v("Register a user:")]),e.error?r("div",{staticClass:"error"},[e._v(e._s(e.error.message))]):e._e(),r("b-form",{on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[r("b-form-group",{attrs:{id:"email",label:"Email:"}},[r("b-form-input",{attrs:{type:"email",required:"",placeholder:"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),r("b-form-group",{attrs:{id:"username",label:"Golfer's Name:"}},[r("b-form-input",{attrs:{type:"text",required:"",placeholder:"username"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),r("b-form-group",{attrs:{id:"password",label:"Password:"}},[r("b-form-input",{attrs:{type:"password",required:"",placeholder:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),r("b-button",{attrs:{type:"submit"}},[e._v("Sign Up")])],1)],1)},ct=[],it={data:function(){return{email:"",password:"",username:"",error:""}},methods:{handleSubmit:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{t=o.auth().createUserWithEmailAndPassword(this.email,this.password).then((function(){var e=i.currentUser.uid;s.ref().child("users").child(e).set({email:r.email,username:r.username,games:{},userID:e}),console.log("uid",e)})).then((function(){console.log("success",t),r.$router.replace({name:"home"})}))}catch(a){console.log("fail",a)}case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},lt=it,dt=(r("aa51"),Object(S["a"])(lt,ot,ct,!1,null,"75a91029",null)),ut=dt.exports,ht=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"sign-in-container"}},[r("h4",[e._v("Sign in:")]),r("b-form",{on:{submit:function(t){return t.preventDefault(),e.handleSignIn(t)}}},[r("b-form-group",{attrs:{id:"sign-in",label:"Email:"}},[r("b-form-input",{attrs:{type:"email",placeholder:"sign in"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),r("b-form-group",{attrs:{id:"password",label:"Password:"}},[r("b-form-input",{attrs:{type:"password",placeholder:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),r("b-button",{attrs:{type:"submit"}},[e._v("Sign In")])],1),e.error?r("div",{staticClass:"error"},[e._v(e._s(e.error.message))]):e._e()],1)},ft=[],mt={name:"sign-in",data:function(){return{email:"",password:"",error:""}},methods:{handleSignIn:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.auth().signInWithEmailAndPassword(this.email,this.password);case 3:t=e.sent,console.log("log in success",t),this.$router.replace({name:"home"}),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),window.alert("Please try entering your details again!"),console.log("fail",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()}},pt=mt,vt=(r("9236"),Object(S["a"])(pt,ht,ft,!1,null,"696acdee",null)),gt=vt.exports,bt={name:"login",components:{register:ut,"sign-in":gt}},_t=bt,Ct=(r("a4f6"),Object(S["a"])(_t,nt,st,!1,null,"237cc7c6",null)),wt=Ct.exports;l["default"].use(at["a"]);var St=[{path:"/",name:"home",component:q,meta:{requiresAuth:!0}},{path:"/game",name:"game",component:Ye},{path:"/leaderboard",name:"leaderboard",component:G},{path:"/rules",name:"rules",component:X},{path:"/login",name:"login",component:wt}],kt=new at["a"]({routes:St});kt.beforeEach((function(e,t,r){var a=e.matched.some((function(e){return e.meta.requiresAuth})),n=o.auth().currentUser;a&&!n?r("/login"):r()}));var yt=kt;r.d(t,"eventBus",(function(){return Dt})),r.d(t,"test",(function(){return Ot})),l["default"].use(tt),l["default"].use(rt["a"]);var $t,xt,Dt=new l["default"],Ot="hi";l["default"].config.productionTip=!1,o.auth().onAuthStateChanged((function(e){console.log("loggedIn",e),e&&s.ref().child("users").child(e.uid).once("value",(function(e){xt=e.val(),console.log("userdata first",xt)})),$t||($t=new l["default"]({router:yt,test:Ot,render:function(e){return e(et)}}).$mount("#app"))}))},"5f89":function(e,t,r){},6686:function(e,t,r){"use strict";var a=r("7ef9"),n=r.n(a);n.a},"682b":function(e,t,r){},"6bf2":function(e,t,r){},"6dd5":function(e,t,r){},7702:function(e,t,r){"use strict";var a=r("6bf2"),n=r.n(a);n.a},"7ace":function(e,t,r){},"7ef9":function(e,t,r){},"85ec":function(e,t,r){},9131:function(e,t,r){"use strict";var a=r("7ace"),n=r.n(a);n.a},9236:function(e,t,r){"use strict";var a=r("c7d9"),n=r.n(a);n.a},"9d08":function(e,t,r){},a4f6:function(e,t,r){"use strict";var a=r("5f89"),n=r.n(a);n.a},a4fc:function(e,t,r){},aa51:function(e,t,r){"use strict";var a=r("cad1"),n=r.n(a);n.a},ae1c:function(e,t,r){"use strict";var a=r("e8c4"),n=r.n(a);n.a},b669:function(e,t,r){},c1b5:function(e,t,r){"use strict";var a=r("535f"),n=r.n(a);n.a},c21c:function(e,t,r){},c4fd:function(e,t,r){"use strict";var a=r("9d08"),n=r.n(a);n.a},c7d9:function(e,t,r){},c87a:function(e,t,r){"use strict";var a=r("2954"),n=r.n(a);n.a},c9c9:function(e,t,r){},cad1:function(e,t,r){},cb3b:function(e,t,r){"use strict";var a=r("b669"),n=r.n(a);n.a},d5c5:function(e,t,r){"use strict";var a=r("035a"),n=r.n(a);n.a},e570:function(e,t,r){"use strict";var a=r("6dd5"),n=r.n(a);n.a},e8c4:function(e,t,r){},f4e8:function(e,t,r){e.exports=r.p+"img/GameLogo.e1210845.svg"},f96a:function(e,t,r){"use strict";var a=r("180f"),n=r.n(a);n.a},f975:function(e,t,r){"use strict";var a=r("682b"),n=r.n(a);n.a}});
//# sourceMappingURL=app.de2668c9.js.map